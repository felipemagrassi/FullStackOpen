{"version":3,"sources":["services/persons.js","components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseURL","personService","getAll","axios","get","then","res","data","create","Object","post","response","deleteUser","id","delete","updatePhone","put","Notification","message","messageClass","className","Filter","value","f","onChange","PersonForm","formFunction","nameFunction","numberFunction","numberValue","nameValue","onSubmit","type","Persons","filteredPersons","filtered","map","item","name","number","onClick","App","useState","persons","setPersons","newFilter","setNewFilter","newName","setNewName","newNumber","setNewNumber","returnMessage","setReturnMessage","returnMessageClass","setReturnMessageClass","useEffect","person","filteredItems","filter","personObj","toUpperCase","includes","event","target","preventDefault","findIndex","personObject","setTimeout","catch","error","find","window","confirm","updatedPerson","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f93fc28.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then(res => res.data)\n}\n\nconst create = ( Object ) => {\n  const request =  axios.post(baseURL, Object)\n  return request.then(response => response.data)\n}             \n\nconst deleteUser = (id, Object) => {\n  const request = axios.delete(`${baseURL}/${id}`, Object)\n  return request.then(response => response.data)\n}\n\nconst updatePhone = (id, Object) =>  {\n  const request = axios.put(`${baseURL}/${id}`, Object)\n  return request.then(response => response.data);\n}\nconst personService = {\n  getAll, \n  create,\n  deleteUser,\n  updatePhone\n}\n\nexport default personService;\n","const Notification = ({message, messageClass }) => {\n  if( message === null ) {\n    return null\n  }\n\n  return (\n    <div className={`${messageClass}`}>\n      {message}\n    </div> \n  )\n}\n\nexport default Notification;","const Filter = ( {value, f }) => {\n  return (\n    <div>\n      filter: <input value={value} onChange={f}/>\n    </div>\n  )\n}\n\nexport default Filter\n\n","const PersonForm = ( {formFunction, nameFunction, numberFunction, numberValue, nameValue} ) => {\n  return (\n    <form onSubmit={formFunction}>\n    <div>\n      name: <input value={nameValue} onChange={nameFunction}/>\n    </div>\n    <div>number: <input value={numberValue} onChange={numberFunction} /></div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default PersonForm\n\n","const Persons = ({filteredPersons, deleteUser}) => {\n  const filtered =  filteredPersons.map( (item) => <li key={item.id}> {item.name} {item.number} <button onClick={() => deleteUser(item.id)}> Delete </button>  </li> )\n  return (\n  <>\n  <ul>\n    {filtered}\n  </ul>\n  </> \n  )\n}\n\nexport default Persons\n\n","import React, { useEffect, useState } from 'react';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newFilter, setNewFilter] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [returnMessage, setReturnMessage] = useState('');\n  const [returnMessageClass, setReturnMessageClass] = useState('');\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((person) => setPersons(person));\n  }, []);\n\n  const updatePhone = () => {\n    const person = persons.find((personObj) => personObj.name === newName);\n    const { id } = person;\n\n    if (newNumber !== '' && window.confirm(`${person.name} already exists, do you want to update the number?`)) {\n      const updatedPerson = { ...person, number: newNumber };\n\n      personService\n        .updatePhone(id, updatedPerson)\n        .then((personObj) => {\n          setPersons(persons.map((n) => (n.id !== id ? n : personObj)));\n          setReturnMessageClass('sucess');\n          setReturnMessage(`${newName} phone updated!`);\n          setTimeout(() => {\n            setReturnMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setReturnMessageClass('error');\n          setReturnMessage(`${error.response.data.error}`);\n          setTimeout(() => {\n            setReturnMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.findIndex((person) => person.name === newName) === -1) {\n      if (newName !== '' && newNumber !== '') {\n        const personObject = { name: newName, number: newNumber };\n\n        personService\n          .create(personObject)\n          .then((response) => {\n            setPersons([...persons, personObject])\n            setReturnMessageClass('sucess');\n            setReturnMessage(` ${newName} added to the phonebook`);\n            setTimeout(() => {\n              setReturnMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setReturnMessageClass('error');\n            setReturnMessage(`${error.response.data.error}`);\n            setTimeout(() => {\n              setReturnMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      updatePhone();\n    }\n  };\n\n  const deleteUser = (id) => {\n    const person = persons.find((n) => n.id === id);\n\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService\n        .deleteUser(id, person)\n        .then(() => setPersons(persons.filter((n) => n.id !== id)))\n        .catch(() => {\n          setReturnMessage(`${person.name} was already removed from server`);\n          setReturnMessageClass('error');\n          setTimeout(() => {\n            setReturnMessage(null);\n          }, 5000);\n        });\n    }\n  };\n  const filteredItems = persons.filter((personObj) => (newFilter === '' ? personObj : personObj.name.toUpperCase().includes(newFilter.toUpperCase())));\n\n  const handleFilter = (event) => { setNewFilter(event.target.value); };\n  const handleName = (event) => { setNewName(event.target.value); };\n  const handleNumber = (event) => { setNewNumber(event.target.value); };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={returnMessage} messageClass={returnMessageClass} />\n\n      <Filter value={newFilter} f={handleFilter} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        formFunction={handleSubmit}\n        nameValue={newName}\n        nameFunction={handleName}\n        numberValue={newNumber}\n        numberFunction={handleNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredItems} deleteUser={deleteUser} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}