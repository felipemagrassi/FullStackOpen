{"version":3,"sources":["services/persons.js","components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseURL","personService","getAll","axios","get","then","res","data","create","Object","post","response","deleteUser","id","delete","updatePhone","put","Notification","message","messageClass","className","Filter","value","f","onChange","PersonForm","formFunction","nameFunction","numberFunction","numberValue","nameValue","onSubmit","type","Persons","filteredPersons","filtered","map","item","name","number","onClick","App","useState","persons","setPersons","newFilter","setNewFilter","newName","setNewName","newNumber","setNewNumber","returnMessage","setReturnMessage","returnMessageClass","setReturnMessageClass","useEffect","person","find","window","confirm","updatedPerson","n","setTimeout","filteredItems","filter","toUpperCase","includes","event","target","preventDefault","findIndex","personObject","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c5300ae.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then(res => res.data)\n}\n\nconst create = ( Object ) => {\n  const request =  axios.post(baseURL, Object)\n  return request.then(response => response.data)\n}             \n\nconst deleteUser = (id, Object) => {\n  const request = axios.delete(`${baseURL}/${id}`, Object)\n  return request.then(response => response.data)\n}\n\nconst updatePhone = (id, Object) =>  {\n  const request = axios.put(`${baseURL}/${id}`, Object)\n  return request.then(response => response.data);\n}\nconst personService = {\n  getAll, \n  create,\n  deleteUser,\n  updatePhone\n}\n\nexport default personService;\n","const Notification = ({message, messageClass }) => {\n  if( message === null ) {\n    return null\n  }\n\n  return (\n    <div className={`${messageClass}`}>\n      {message}\n    </div> \n  )\n}\n\nexport default Notification;","const Filter = ( {value, f }) => {\n  return (\n    <div>\n      filter: <input value={value} onChange={f}/>\n    </div>\n  )\n}\n\nexport default Filter\n\n","const PersonForm = ( {formFunction, nameFunction, numberFunction, numberValue, nameValue} ) => {\n  return (\n    <form onSubmit={formFunction}>\n    <div>\n      name: <input value={nameValue} onChange={nameFunction}/>\n    </div>\n    <div>number: <input value={numberValue} onChange={numberFunction} /></div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default PersonForm\n\n","const Persons = ({filteredPersons, deleteUser}) => {\n  const filtered =  filteredPersons.map( (item) => <li key={item.id}> {item.name} {item.number} <button onClick={() => deleteUser(item.id)}> Delete </button>  </li> )\n  return (\n  <>\n  <ul>\n    {filtered}\n  </ul>\n  </> \n  )\n}\n\nexport default Persons\n\n","import React, { useEffect, useState } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ returnMessage, setReturnMessage] = useState('')\n  const [ returnMessageClass, setReturnMessageClass] = useState(\"\")\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(person => setPersons(person))\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.findIndex( (person) => person.name === newName ) === -1) {\n      if(newName !== \"\" && newNumber  !== \"\") {\n      const personObject = {name: newName, number: newNumber}\n      \n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(response)  \n        })\n      setReturnMessageClass(\"sucess\")\n      setReturnMessage(` ${newName} added to the phonebook`)\n      setTimeout(() => {\n        setReturnMessage(null)\n      }, 5000)\n    }} else {\n      updatePhone();\n    }\n  }\n\n  const updatePhone = () => {\n    const person = persons.find((person) => person.name === newName)\n    const id = person.id\n\n    if (newNumber !== \"\" && window.confirm(`${person.name} already exists, do you want to update the number?`)) {\n      const updatedPerson = {...person, number:newNumber}\n      \n      personService\n        .updatePhone(id, updatedPerson)\n        .then((person) => setPersons(persons.map(n => n.id !== id ? n : person)))\n        setReturnMessageClass(\"sucess\")\n        setReturnMessage(`${newName} phone updated!`)\n        setTimeout(() => {\n        setReturnMessage(null)\n      }, 5000)\n      }\n    }\n\n  const deleteUser = (id) => {\n    const person = persons.find(n => n.id === id);\n    \n    if (window.confirm(`Delete ${person.name}`)) {\n    \n    personService\n      .deleteUser(id, person)\n      .then((person) => setPersons(persons.filter(n => n.id !== id)))\n      .catch((error) => {\n        setReturnMessage(`${person.name} was already removed from server`)\n        setReturnMessageClass(\"error\")\n          setTimeout(() => {\n            setReturnMessage(null)\n          }, 5000)\n      }) \n    }\n  }\n\n  const filteredItems = persons.filter( (person) => newFilter === \"\" ? person : person.name.toUpperCase().includes(newFilter.toUpperCase()));\n\n  const handleFilter = (event) => { setNewFilter(event.target.value)}\n  const handleName = (event) => { setNewName(event.target.value)}\n  const handleNumber = (event) => { setNewNumber(event.target.value)}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={returnMessage} messageClass={returnMessageClass}/>\n\n      <Filter value={newFilter} f={handleFilter}/>\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n        formFunction={handleSubmit} \n        nameValue={newName} nameFunction={handleName}\n        numberValue={newNumber} numberFunction={handleNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredItems} deleteUser={deleteUser}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}